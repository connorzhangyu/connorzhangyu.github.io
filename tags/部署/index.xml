<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>部署 on Hello World</title><link>https://connorzhangyu.com/tags/%E9%83%A8%E7%BD%B2/</link><description>Recent content in 部署 on Hello World</description><generator>Hugo</generator><language>zh</language><lastBuildDate>Sat, 19 Nov 2022 18:25:00 +0000</lastBuildDate><atom:link href="https://connorzhangyu.com/tags/%E9%83%A8%E7%BD%B2/index.xml" rel="self" type="application/rss+xml"/><item><title>Jenkins</title><link>https://connorzhangyu.com/posts/jenkins/</link><pubDate>Sat, 19 Nov 2022 18:25:00 +0000</pubDate><guid>https://connorzhangyu.com/posts/jenkins/</guid><description>&lt;h1 id="root用户权限启动jenkins">Root用户权限启动Jenkins&lt;/h1>
&lt;p>适用于Ubuntu环境下通过&lt;code>apt-get install -y jenkins&lt;/code>命令在线安装的Jenkins&lt;/p>
&lt;p>1.修改配置文件&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vim /etc/default/jenkins
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 将下面两个参数修改为root&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 修改前&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>JENKINS_USER&lt;span style="color:#f92672">=&lt;/span>$NAME
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>JENKINS_GROUP&lt;span style="color:#f92672">=&lt;/span>$NAME
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 修改后&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>JENKINS_USER&lt;span style="color:#f92672">=&lt;/span>root
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>JENKINS_GROUP&lt;span style="color:#f92672">=&lt;/span>root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>2.更改目录权限&lt;/p>
&lt;p>不知道这步有没有起作用&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cd /var/lib/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chown -R root:root ./jenkins
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 重启&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl restart jenkins.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="jenkins使用教程">Jenkins使用教程&lt;/h1>
&lt;h2 id="配置jdk">配置JDK&lt;/h2>
&lt;p>Manage Jenkins &amp;ndash;&amp;gt; Global Tool Configuration&lt;/p>
&lt;ol>
&lt;li>自动安装&lt;/li>
&lt;li>手动安装要注意,J&lt;code>AVA_HOME&lt;/code>的输入框下面，不要有警告或者错误信息，否则就是路径不正确,取消勾选自动安装&lt;/li>
&lt;/ol>
&lt;h2 id="配置maven">配置Maven&lt;/h2>
&lt;ol>
&lt;li>安装Maven Integration 插件&lt;/li>
&lt;li>通常自动安装maven就行了,如果手动安装,&lt;code>MAVEN_HOME&lt;/code> 输入框下面，不要有警告或者错误信息，否则就是路径不正确&lt;/li>
&lt;/ol>
&lt;h2 id="获取当前项目名称">获取当前项目名称&lt;/h2>
&lt;p>在脚本中输入 &lt;code>$JOB_NAME&lt;/code>就能获取到了&lt;/p>
&lt;h2 id="卸载jenkins">卸载jenkins&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>//服务
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get remove jenkins
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>//安装包，注意这里如果不是ubuntu那就yum
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get remove --auto-remove jenkins
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>//配置和数据
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get purge jenkins
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get purge --auto-remove jenkins
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="升级jenkins">升级jenkins&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 适用于ubuntu安装的&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt-get upgrade jenkins
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="同时构建任务的个数">同时构建任务的个数&lt;/h2>
&lt;p>系统管理&amp;ndash;&amp;gt;系统设置&amp;ndash;&amp;gt;执行者数量&lt;/p></description></item></channel></rss>