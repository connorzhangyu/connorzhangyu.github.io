<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>磁盘 on Hello World</title><link>https://connorzhangyu.com/tags/%E7%A3%81%E7%9B%98/</link><description>Recent content in 磁盘 on Hello World</description><generator>Hugo -- gohugo.io</generator><language>zh</language><lastBuildDate>Tue, 22 Nov 2022 10:53:07 +0000</lastBuildDate><atom:link href="https://connorzhangyu.com/tags/%E7%A3%81%E7%9B%98/index.xml" rel="self" type="application/rss+xml"/><item><title>Linux</title><link>https://connorzhangyu.com/posts/linux/</link><pubDate>Tue, 22 Nov 2022 10:53:07 +0000</pubDate><guid>https://connorzhangyu.com/posts/linux/</guid><description>&lt;h1 id="系统命令">系统命令&lt;/h1>
&lt;h2 id="解压缩">解压缩&lt;/h2>
&lt;p>demo(文件夹)&lt;/p>
&lt;p>|&amp;mdash;&amp;mdash;|1.txt(文件)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># -r：递归地压缩目录，意味着 zip 命令会包含 demo 文件夹内的所有文件和子目录。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># demo.zip：这是输出的压缩文件名。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># demo：这是您要压缩的目录名。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>zip -r demo.zip demo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># -o：强制覆盖现有的文件和文件夹，而不会询问用户。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># demo.zip：这是您想要解压的 .zip 文件名。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>unzip -o demo.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="查看前几行">查看前几行&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ifconfig | head -n &lt;span style="color:#ae81ff">100&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装中文">安装中文&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>apt install language-pack-zh-hans
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim /etc/default/locale
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>LANG&lt;span style="color:#f92672">=&lt;/span>zh_CN.UTF-8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>LANGUAGE&lt;span style="color:#f92672">=&lt;/span>zh_CN:zh:en_US:en
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 验证&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>root@anthony:~# echo $LANG
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>zh_CN.UTF-8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="update索引失效">Update索引失效&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>正在读取软件包列表... 完成
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>E: 无法下载 http://mirror.rise.ph/ubuntu/dists/focal-updates/main/dep11/Components-amd64.yml.xz 文件尺寸不符&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#ae81ff">264288&lt;/span> !&lt;span style="color:#f92672">=&lt;/span> 264484&lt;span style="color:#f92672">)&lt;/span>。您使用的镜像正在同步中？ &lt;span style="color:#f92672">[&lt;/span>IP: 43.226.6.79 80&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Hashes of expected file:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - Filesize:264484 &lt;span style="color:#f92672">[&lt;/span>weak&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - SHA256:ea09acc6bddd6a503a3812ba1d3a025e5515c5469dcad172c86e2bda6f203752
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - SHA1:60863a9cc3181eb87007edcfc2de1ba6a0b81a5f &lt;span style="color:#f92672">[&lt;/span>weak&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - MD5Sum:80baa34a1b24d245341757fa51ebd29e &lt;span style="color:#f92672">[&lt;/span>weak&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Release file created at: Sat, &lt;span style="color:#ae81ff">27&lt;/span> Feb &lt;span style="color:#ae81ff">2021&lt;/span> 08:09:39 +0000
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>E: 部分索引文件下载失败。如果忽略它们，那将转而使用旧的索引文件。
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 解决办法&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo rm -rf /var/lib/apt/lists/partial/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="修改时区">修改时区&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查询当前时间&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>date -R
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># tzselect&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>选择 4,9,1,1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ubuntu特有的,如果不是ubuntu 跳过这一步&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># java设置时区&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>在/etc/profile或~/.bashrc文件中设置环境变量TZ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>export TZ&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;Asia/Shanghai&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>source /etc/profile
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ubuntu20.04&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo timedatectl set-timezone Asia/Shanghai
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="历史命令">历史命令&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 历史命令&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>history -3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="sudo免密">sudo免密&lt;/h2>
&lt;p>&lt;code>vim /etc/sudoers&lt;/code>&lt;/p></description><content>&lt;h1 id="系统命令">系统命令&lt;/h1>
&lt;h2 id="解压缩">解压缩&lt;/h2>
&lt;p>demo(文件夹)&lt;/p>
&lt;p>|&amp;mdash;&amp;mdash;|1.txt(文件)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># -r：递归地压缩目录，意味着 zip 命令会包含 demo 文件夹内的所有文件和子目录。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># demo.zip：这是输出的压缩文件名。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># demo：这是您要压缩的目录名。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>zip -r demo.zip demo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># -o：强制覆盖现有的文件和文件夹，而不会询问用户。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># demo.zip：这是您想要解压的 .zip 文件名。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>unzip -o demo.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="查看前几行">查看前几行&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ifconfig | head -n &lt;span style="color:#ae81ff">100&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装中文">安装中文&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>apt install language-pack-zh-hans
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim /etc/default/locale
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>LANG&lt;span style="color:#f92672">=&lt;/span>zh_CN.UTF-8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>LANGUAGE&lt;span style="color:#f92672">=&lt;/span>zh_CN:zh:en_US:en
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 验证&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>root@anthony:~# echo $LANG
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>zh_CN.UTF-8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="update索引失效">Update索引失效&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>正在读取软件包列表... 完成
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>E: 无法下载 http://mirror.rise.ph/ubuntu/dists/focal-updates/main/dep11/Components-amd64.yml.xz 文件尺寸不符&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#ae81ff">264288&lt;/span> !&lt;span style="color:#f92672">=&lt;/span> 264484&lt;span style="color:#f92672">)&lt;/span>。您使用的镜像正在同步中？ &lt;span style="color:#f92672">[&lt;/span>IP: 43.226.6.79 80&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Hashes of expected file:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - Filesize:264484 &lt;span style="color:#f92672">[&lt;/span>weak&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - SHA256:ea09acc6bddd6a503a3812ba1d3a025e5515c5469dcad172c86e2bda6f203752
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - SHA1:60863a9cc3181eb87007edcfc2de1ba6a0b81a5f &lt;span style="color:#f92672">[&lt;/span>weak&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - MD5Sum:80baa34a1b24d245341757fa51ebd29e &lt;span style="color:#f92672">[&lt;/span>weak&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Release file created at: Sat, &lt;span style="color:#ae81ff">27&lt;/span> Feb &lt;span style="color:#ae81ff">2021&lt;/span> 08:09:39 +0000
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>E: 部分索引文件下载失败。如果忽略它们，那将转而使用旧的索引文件。
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 解决办法&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo rm -rf /var/lib/apt/lists/partial/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="修改时区">修改时区&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查询当前时间&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>date -R
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># tzselect&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>选择 4,9,1,1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ubuntu特有的,如果不是ubuntu 跳过这一步&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># java设置时区&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>在/etc/profile或~/.bashrc文件中设置环境变量TZ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>export TZ&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;Asia/Shanghai&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>source /etc/profile
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ubuntu20.04&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo timedatectl set-timezone Asia/Shanghai
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="历史命令">历史命令&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 历史命令&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>history -3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="sudo免密">sudo免密&lt;/h2>
&lt;p>&lt;code>vim /etc/sudoers&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Host alias specification&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># User alias specification&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Cmnd alias specification&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># User privilege specification&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>root ALL&lt;span style="color:#f92672">=(&lt;/span>ALL:ALL&lt;span style="color:#f92672">)&lt;/span> ALL
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 加在这里会被覆盖掉&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>anthony ALL&lt;span style="color:#f92672">=(&lt;/span>ALL&lt;span style="color:#f92672">)&lt;/span> NOPASSWD:ALL
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Members of the admin group may gain root privileges&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>%admin ALL&lt;span style="color:#f92672">=(&lt;/span>ALL&lt;span style="color:#f92672">)&lt;/span> ALL
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 最好是加在最后&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>anthony ALL&lt;span style="color:#f92672">=(&lt;/span>ALL&lt;span style="color:#f92672">)&lt;/span> NOPASSWD:ALL
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Allow members of group sudo to execute any command&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>%sudo ALL&lt;span style="color:#f92672">=(&lt;/span>ALL:ALL&lt;span style="color:#f92672">)&lt;/span> ALL
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>anthony ALL&lt;span style="color:#f92672">=(&lt;/span>ALL&lt;span style="color:#f92672">)&lt;/span> NOPASSWD:ALL
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="grep管道">grep管道&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat hive-default.xml | grep hive.cli.print
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="系统升级">系统升级&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum -y update&lt;span style="color:#f92672">(&lt;/span>centos&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt-get update&lt;span style="color:#f92672">(&lt;/span>ubuntu 软件包的列表 &lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get dist-upgrade （进入列新你系统和系统里安装的软件）
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ll文件大小按mb显示">ll文件大小按MB显示&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ls -lh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ll -lh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="查看系统版本">查看系统版本&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat /etc/os-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="立即关机和重启">立即关机和重启&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 现在立即关机&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>shutdown -h now
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 现在立即重启&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>shutdown -r now
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="当前时间">当前时间&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>data / date -R
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="目录占用空间">目录占用空间&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看当前目录下一级子文件和子目录占用的磁盘容量&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>du -lh --max-depth&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> /
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看当前目录总共占的容量。而不单独列出各子项占用的容量&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>du -sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 使用lsof命令排查,可以查看到状态为deleted的文件&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 可考虑kill掉程序,就会自动释放&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>lsof |grep deleted
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--------------------------------------------------------------------------------
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>COMMAND PID TID USER FD TYPE DEVICE SIZE/OFF NODE NAME
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dbus-daem &lt;span style="color:#ae81ff">456&lt;/span> dbus txt REG 253,1 &lt;span style="color:#ae81ff">441144&lt;/span> &lt;span style="color:#ae81ff">141672&lt;/span> /usr/bin/dbus-daemon &lt;span style="color:#f92672">(&lt;/span>deleted&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>node &lt;span style="color:#ae81ff">11595&lt;/span> &lt;span style="color:#ae81ff">11733&lt;/span> root txt REG 253,1 &lt;span style="color:#ae81ff">29851602&lt;/span> &lt;span style="color:#ae81ff">1461079&lt;/span> /home/elk/kibana-5.5.1-linux-x86_64/node/bin/node &lt;span style="color:#f92672">(&lt;/span>deleted&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>node &lt;span style="color:#ae81ff">11595&lt;/span> &lt;span style="color:#ae81ff">11733&lt;/span> root 1w REG 253,1 &lt;span style="color:#ae81ff">11374904415&lt;/span> &lt;span style="color:#ae81ff">1059873&lt;/span> /home/elk/kibana-5.5.1-linux-x86_64/nohup.out &lt;span style="color:#f92672">(&lt;/span>deleted&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>node &lt;span style="color:#ae81ff">11595&lt;/span> &lt;span style="color:#ae81ff">11733&lt;/span> root 2w REG 253,1 &lt;span style="color:#ae81ff">11374904415&lt;/span> &lt;span style="color:#ae81ff">1059873&lt;/span> /home/elk/kibana-5.5.1-linux-x86_64/nohup.out &lt;span style="color:#f92672">(&lt;/span>deleted&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>async_17 &lt;span style="color:#ae81ff">24113&lt;/span> &lt;span style="color:#ae81ff">24210&lt;/span> rabbitmq 1w REG 253,1 &lt;span style="color:#ae81ff">8556707104&lt;/span> &lt;span style="color:#ae81ff">659069&lt;/span> /var/log/rabbitmq/startup_log &lt;span style="color:#f92672">(&lt;/span>deleted&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>async_18 &lt;span style="color:#ae81ff">24113&lt;/span> &lt;span style="color:#ae81ff">24211&lt;/span> rabbitmq 1w REG 253,1 &lt;span style="color:#ae81ff">8556707104&lt;/span> &lt;span style="color:#ae81ff">659069&lt;/span> /var/log/rabbitmq/startup_log &lt;span style="color:#f92672">(&lt;/span>deleted&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>async_19 &lt;span style="color:#ae81ff">24113&lt;/span> &lt;span style="color:#ae81ff">24212&lt;/span> rabbitmq 1w REG 253,1 &lt;span style="color:#ae81ff">8556707104&lt;/span> &lt;span style="color:#ae81ff">659069&lt;/span> /var/log/rabbitmq/startup_log &lt;span style="color:#f92672">(&lt;/span>deleted&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>async_20 &lt;span style="color:#ae81ff">24113&lt;/span> &lt;span style="color:#ae81ff">24213&lt;/span> rabbitmq 1w REG 253,1 &lt;span style="color:#ae81ff">8556707104&lt;/span> &lt;span style="color:#ae81ff">659069&lt;/span> /var/log/rabbitmq/startup_log &lt;span style="color:#f92672">(&lt;/span>deleted&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="文件传输">文件传输&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 获取远程服务器上的文件&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scp -P &lt;span style="color:#ae81ff">2222&lt;/span> root@www.vpser.net:/root/lnmp0.4.tar.gz /home/lnmp0.4.tar.gz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 获取远程服务器上的目录&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scp -P &lt;span style="color:#ae81ff">2222&lt;/span> -r root@www.vpser.net:/root/lnmp0.4/ /home/lnmp0.4/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 将本地文件上传到服务器上&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scp -P &lt;span style="color:#ae81ff">2222&lt;/span> /home/lnmp0.4.tar.gz* *root@www.vpser.net:/root/lnmp0.4.tar.gz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 将本地目录上传到服务器上&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scp -P &lt;span style="color:#ae81ff">2222&lt;/span> -r /home/lnmp0.4/* *root@www.vpser.net:/root/lnmp0.4/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="修改主机名字">修改主机名字&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 第一种方法&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo vim /etc/sysconfig/network
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 编辑&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>HOSTNAME&lt;span style="color:#f92672">=&lt;/span>weekend100
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo hostname weenkend110
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 第二种方法,需要重启&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim /etc/hostname
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ubuntu右上角网络图标消失并且上不了网">Ubuntu右上角网络图标消失并且上不了网&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo nmcli networking off
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo nmcli networking on
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo service network-manager stop
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo rm /var/lib/NetworkManager/NetworkManager.state
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo service network-manager start
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo gedit /etc/NetworkManager/NetworkManager.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 把false改成true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo service network-manager restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="cockpit">Cockpit&lt;/h2>
&lt;pre tabindex="0">&lt;code>Activate the web console with: systemctl enable --now cockpit.socke
&lt;/code>&lt;/pre>&lt;p>Cockpit介绍自己是一个Web端的系统管理工具，只用鼠标点点就能管理系统，事实上也确实如此，我实际使用来说，启动Cockpit服务之后，只需要鼠标点点点就能完成系统很多基础操作，比如查看系统信息，启动/停止服务，新增或者更改账户，系统更新，Web终端及查看网络流量等功能。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>systemctl start cockpit.socket &lt;span style="color:#75715e"># 运行Cockpit服务&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl enable –now cockpit.socket &lt;span style="color:#75715e"># 启动该服务，随系统启动一同启动&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl status cockpit.socket
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后在另一台电脑上用浏览器登录 &lt;a href="https://ip:9090/">https://IP:9090&lt;/a>&lt;/p>
&lt;h2 id="top">top&lt;/h2>
&lt;pre tabindex="0">&lt;code>top - 21:08:58 up 6:15, 4 users, load average: 0.01, 0.03, 0.05
Tasks: 262 total, 1 running, 261 sleeping, 0 stopped, 0 zombie
%Cpu(s): 0.0 us, 1.4 sy, 0.0 ni, 98.6 id, 0.0 wa, 0.0 hi, 0.0 si, 0.0 st
KiB Mem : 3861300 total, 1922280 free, 1029068 used, 909952 buff/cache
KiB Swap: 2097148 total, 2097148 free, 0 used. 2545024 avail Mem
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>第一行&lt;/li>
&lt;li>程序名(top)&lt;/li>
&lt;li>21:08:58(系统时间)&lt;/li>
&lt;li>up 6:15(运行时间)&lt;/li>
&lt;li>4 users(登录用户数)&lt;/li>
&lt;li>load average(cpu 负载数,5分钟的平均负载,10分钟的平均负载,15分钟的平均负载)&lt;/li>
&lt;li>第二行&lt;/li>
&lt;li>task(总进程数)&lt;/li>
&lt;li>1 running (运行数:1)&lt;/li>
&lt;li>261 sleeping(睡眠树:1)&lt;/li>
&lt;li>stopped(停止数)&lt;/li>
&lt;li>zoimbie(僵尸数)&lt;/li>
&lt;li>第三行&lt;/li>
&lt;li>%cpu(cpu使用占比)&lt;/li>
&lt;li>us (用户)&lt;/li>
&lt;li>sy (系统)&lt;/li>
&lt;li>ni(优先级)&lt;/li>
&lt;li>id(空闲)&lt;/li>
&lt;li>wa(等待)&lt;/li>
&lt;li>hi(硬件)&lt;/li>
&lt;li>st(虚拟机)&lt;/li>
&lt;li>第四行&lt;/li>
&lt;li>kib Mem (物理内存 单位:K)&lt;/li>
&lt;li>free (空间,单位:k)&lt;/li>
&lt;li>userd(使用)&lt;/li>
&lt;li>cache(缓存硬盘内容大小)&lt;/li>
&lt;li>第五行&lt;/li>
&lt;li>交换区&lt;/li>
&lt;li>第六行&lt;/li>
&lt;li>进程ID&lt;/li>
&lt;li>用户名&lt;/li>
&lt;li>优先级(PR)&lt;/li>
&lt;li>内存(VIRT RES SHR)&lt;/li>
&lt;li>状态(S)&lt;/li>
&lt;li>cpu&lt;/li>
&lt;li>内存&lt;/li>
&lt;li>运行时间&lt;/li>
&lt;li>命令&lt;/li>
&lt;/ul>
&lt;h2 id="tree">tree&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 排除目录venv目录&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tree -I &lt;span style="color:#e6db74">&amp;#39;*venv*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 排除目录venv和venve2目录&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tree -I &lt;span style="color:#e6db74">&amp;#39;*venv|venv2*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="配置环境变量">配置环境变量&lt;/h1>
&lt;h2 id="配置java环境变量">配置Java环境变量&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>export JAVA_HOME&lt;span style="color:#f92672">=&lt;/span>/home/anthony/soft/jdk1.8.0_19
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>export PATH&lt;span style="color:#f92672">=&lt;/span>$JAVA_HOME/bin:$PATH
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>export CLASSPATH&lt;span style="color:#f92672">=&lt;/span>.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="配置maven环境变量">配置Maven环境变量&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>export M2_HOME&lt;span style="color:#f92672">=&lt;/span>/usr/local/software/apache-maven-3.6.1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>export PATH&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>M2_HOME&lt;span style="color:#e6db74">}&lt;/span>/bin:$PATH
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装和卸载openjdk">安装和卸载OpenJDK&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 安装&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>apt-get install -y openjdk-17-jdk
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 卸载openJDK&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get remove openjdk*
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看jdk可安装的版本&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum -y list java*
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 选择一个安装&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 要选择 要带有-devel的安装，因为这个安装的是jdk，而那个不带-devel的安装完了其实是jre&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum install -y java-1.8.0-openjdk-devel.x86_64
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查找安装路径&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>which java
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="配置scala">配置Scala&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>export SCALA_HOME&lt;span style="color:#f92672">=&lt;/span>/usr/local/scala-2.13.4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>export PATH&lt;span style="color:#f92672">=&lt;/span>$SCALA_HOME/bin:$PATH
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="固定ip">固定ip&lt;/h1>
&lt;p>配置完了,最好是重启下vmware和虚拟机,和禁用开启 win10上的vmare8网卡&lt;/p>
&lt;p>vmare配置
&lt;img src="https://image.runtimes.cc/202404051425040.png" alt="">&lt;/p>
&lt;p>电脑配置
&lt;img src="https://image.runtimes.cc/202404051425094.png" alt="">
虚拟机配置
&lt;img src="https://image.runtimes.cc/202404051425941.png" alt="">&lt;/p>
&lt;h2 id="centos配置">Centos配置&lt;/h2>
&lt;pre tabindex="0">&lt;code>vim /etc/sysconfig/network-scripts/ifcfg-eth0
BOOTPROTO=&amp;#34;static&amp;#34; #dhcp改为static
ONBOOT=&amp;#34;yes&amp;#34; #开机启用本配置
IPADDR=10.14.2.50 #静态IP
GATEWAY=10.14.2.11 #默认网关
NETMASK=255.255.255.0 #子网掩码
# 重启网卡,或者重启电脑
service network restart
&lt;/code>&lt;/pre>&lt;h2 id="ubuntu配置">Ubuntu配置&lt;/h2>
&lt;p>&lt;code>vim /etc/netplan&lt;/code>&lt;/p>
&lt;p>编辑完之后执行&lt;code>netplan apply&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Ubuntu桌面版本&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">network&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">version&lt;/span>: &lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">renderer&lt;/span>: &lt;span style="color:#ae81ff">NetworkManager&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ethernets&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ens33&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">dhcp4&lt;/span>: &lt;span style="color:#66d9ef">no&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">optional&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">addresses&lt;/span>: [&lt;span style="color:#ae81ff">192.168.0.5&lt;/span>&lt;span style="color:#ae81ff">/24]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">gateway4&lt;/span>: &lt;span style="color:#ae81ff">192.168.0.1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">nameservers&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">addresses&lt;/span>: [&lt;span style="color:#ae81ff">192.168.0.1&lt;/span>,&lt;span style="color:#ae81ff">8.8.8.8&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Ubuntu服务器版本&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">network&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ethernets&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ens33&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">dhcp4&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">optional&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">addresses&lt;/span>: [&lt;span style="color:#ae81ff">192.168.0.6&lt;/span>&lt;span style="color:#ae81ff">/24]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">gateway4&lt;/span>: &lt;span style="color:#ae81ff">192.168.0.1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">nameservers&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">addresses&lt;/span>: [&lt;span style="color:#ae81ff">192.168.0.1&lt;/span>,&lt;span style="color:#ae81ff">8.8.8.8&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">version&lt;/span>: &lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="关闭ipv6">关闭IPV6&lt;/h1>
&lt;p>Ubuntu关闭IPV6&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo sysctl -w net.ipv6.conf.all.disable_ipv6&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo sysctl -w net.ipv6.conf.default.disable_ipv6&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo sysctl -w net.ipv6.conf.lo.disable_ipv6&lt;span style="color:#f92672">=&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="https://image.runtimes.cc/202404051425139.png" alt="image-20231201154102952">&lt;/p>
&lt;h1 id="防火墙">防火墙&lt;/h1>
&lt;h2 id="centos防火墙">Centos防火墙&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 启动&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl start firewalld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看状态&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl status firewalld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 停止&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl disable firewalld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 禁用&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl stop firewalld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 开机启动防火墙&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl enable firewalld.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看防火墙是否开机启动&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl is-enabled firewalld.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 开机时禁用防火墙&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl disable firewalld.service
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看版本&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --version
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 显示状态&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --state
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看所有打开的端口&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --zone&lt;span style="color:#f92672">=&lt;/span>public --list-ports
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 重新载入，更新防火墙规则&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --reload
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看区域信息&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --get-active-zones
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 拒绝所有包&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --panic-on
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 取消拒绝状态&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --panic-off
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看是否拒绝&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --query-panic
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 开启80端口，–permanent永久生效，没有此参数重启后失效&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --zone&lt;span style="color:#f92672">=&lt;/span>public --add-port&lt;span style="color:#f92672">=&lt;/span>80/tcp --permanent
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看80端口是否开放&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --zone&lt;span style="color:#f92672">=&lt;/span>public --query-port&lt;span style="color:#f92672">=&lt;/span>80/tcp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 删除80端口配置&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firewall-cmd --zone&lt;span style="color:#f92672">=&lt;/span>public --remove-port&lt;span style="color:#f92672">=&lt;/span>80/tcp --permanent
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ubuntu防火墙">Ubuntu防火墙&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 开放端口&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo ufw allow &lt;span style="color:#ae81ff">80&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看所有的服务端口&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>netstat -ap
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 查看已经连接的服务端口&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>netstat -a
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 如查看8888端口，则在终端中输入：&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>lsof -i:8888
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># lsof -i:端口号查看某个端口是否被占用&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>netstat -anp|grep &lt;span style="color:#ae81ff">80&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="转发ip">转发IP&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 在文件中添加或修改以下行&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo vim /etc/sysctl.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>net.ipv4.ip_forward&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 激活 IP 转发功能。&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo sysctl -p
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 182.160.10.16 目标到目标服务器的ip&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 将到达端口 80 的流量转发到另一台服务器&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo iptables -t nat -A PREROUTING -p tcp --dport &lt;span style="color:#ae81ff">80&lt;/span> -j DNAT --to-destination 182.160.10.16:80
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 设置 MASQUERADE 以便正确处理返回的流量&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo iptables -t nat -A POSTROUTING -j MASQUERADE
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 检查和保存规则&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo iptables -t nat -L -n -v
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 如果您希望这些规则在系统重启后依然有效，您需要安装 iptables-persistent 包：&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get install iptables-persistent
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="用户和权限">用户和权限&lt;/h1>
&lt;h2 id="用户和用户组">用户和用户组&lt;/h2>
&lt;h3 id="普通用户和非普通用户">普通用户和非普通用户&lt;/h3>
&lt;pre tabindex="0">&lt;code>$ 是普通用户
# 不是普通用户
&lt;/code>&lt;/pre>&lt;h3 id="修改用户名">修改用户名&lt;/h3>
&lt;pre tabindex="0">&lt;code># //-l 新的登陆名称，-d 用户新的主目录， -m将家目录内容移至新位置 (仅于 -d 一起使用)
usermod -l newname -d /home/newname -m oldname
# 修改组
groupmod -n oldname newname
# 重启
reboot
&lt;/code>&lt;/pre>&lt;h3 id="用户组">用户组&lt;/h3>
&lt;pre tabindex="0">&lt;code># 新建用户组
groupadd hr
# 查看用户组
[root@192 ~]# tail -1 /etc/group
hr:x:1001:
# 修改用户组名,sudan新名字,dan就名字
groupmod -n susan dan
# 删除用户组
groupdel hr
&lt;/code>&lt;/pre>&lt;h3 id="用户">用户&lt;/h3>
&lt;pre tabindex="0">&lt;code># 添加用户:useradd hadoop,创建用户未指定任何选项,系统会创建一个同名的用户组
# 添加用户
adduser hadoop
# 删除用户,
# -r 同时也删除这个用户的主目录
userdel -r hadoop
# 修改hadoop用户密码
passwd hadoop
# 修改自己的用户名密码
passwd
# 把用户加入到用户组:
vi /etc/sudoers
# 查看用户
id user01
# 或者
whoami
# 或者
cat /etc/shadow
# 切换用户
su anthony
# 查看用户组信息
[root@192 ~]# tail -2 /etc/passwd
anthony:x:1000:1000:anthony:/home/anthony:/bin/bash
[root@192 ~]# tail /etc/group
anthony:x:1000:anthony
# 修改用户基本组
usermod username -g 组名
&lt;/code>&lt;/pre>&lt;p>&lt;img src="https://image.runtimes.cc/202404051521555.png" alt="">&lt;/p>
&lt;h3 id="修改用户基本组和附加组的demo">修改用户基本组和附加组的demo&lt;/h3>
&lt;pre tabindex="0">&lt;code># 创建hadoop用户
[root@192 ~]# useradd hadoop
# 查看hadoop用户,基本组是1002
[root@192 ~]# tail -1 /etc/passwd
hadoop:x:1001:1002::/home/hadoop:/bin/bash
# 查看hadoop基本组信息
[root@192 ~]# tail -1 /etc/group
hadoop:x:1002:
# 创建两个用户组
[root@192 ~]# groupadd hadoop_base
[root@192 ~]# groupadd hadoop_more
# 查看两个用户组
[root@192 ~]# tail -3 /etc/group
hadoop:x:1002:
hadoop_base:x:1003:
hadoop_more:x:1004:
# 修改用户基本组
[root@192 ~]# usermod hadoop -g hadoop_base
[root@192 ~]# tail -3 /etc/group
hadoop:x:1002:
hadoop_base:x:1003:
hadoop_more:x:1004:
# 用户的基本组已经变成1003
[root@192 ~]# tail -3 /etc/passwd
hadoop:x:1001:1003::/home/hadoop:/bin/bash
# 修改用户附加组
[root@192 ~]# usermod hadoop -G hadoop_more
# 用户的附加组已经变成1004
[root@192 ~]# tail -1 /etc/group
hadoop_more:x:1004:hadoop
# 最后查看
# uid 用户名
# gid 基本组id
# 组 包括基本组和附加组
[root@192 ~]# id hadoop
uid=1001(hadoop) gid=1003(hadoop_base) 组=1003(hadoop_base),1004(hadoop_more)
# 从组中删除成员
[root@192 ~]# gpasswd -d hadoop hadoop_base
正在将用户“hadoop”从“hadoop_base”组中删除
gpasswd：用户“hadoop”不是“hadoop_base”的成员
[root@192 ~]# gpasswd -d hadoop hadoop_more
正在将用户“hadoop”从“hadoop_more”组中删除
&lt;/code>&lt;/pre>&lt;h3 id="修改用户权限">修改用户权限&lt;/h3>
&lt;pre tabindex="0">&lt;code>root修改用户权限: vim /etc/sudousers
&lt;/code>&lt;/pre>&lt;h3 id="组信息文件">组信息文件&lt;/h3>
&lt;pre tabindex="0">&lt;code>[root@192 ~]# cat /etc/group
root:x:0:
bin:x:1:
daemon:x:2:
sys:x:3:
adm:x:4:
&lt;/code>&lt;/pre>&lt;p>一共有4列&lt;/p>
&lt;ol>
&lt;li>组名&lt;/li>
&lt;li>组密码&lt;/li>
&lt;li>组ID&lt;/li>
&lt;li>备用的&lt;/li>
&lt;/ol>
&lt;h3 id="用户文件信息">用户文件信息&lt;/h3>
&lt;pre tabindex="0">&lt;code>[root@192 ~]# cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
&lt;/code>&lt;/pre>&lt;ol>
&lt;li>用户名,登录名中不能有冒号&lt;/li>
&lt;li>口令,把真正的加密后的用户口令字存放到/etc/shadow文件中&lt;/li>
&lt;li>用户标识符,取值范围是0-65535。0是超级用户root的标识号，1-99由系统保留，作为管理账号，普通用户的标识号从100开始。在Linux系统中，这个界限是500,&lt;/li>
&lt;li>组标识符,也是基本组&lt;/li>
&lt;li>注释性描述,例如用户的真实姓名、电话、地址等，这个字段并没有什么实际的用途&lt;/li>
&lt;li>主目录&lt;/li>
&lt;li>登录shell,解释器&lt;/li>
&lt;/ol>
&lt;h2 id="权限">权限&lt;/h2>
&lt;pre tabindex="0">&lt;code>[anthony@192 ~]$ touch /tmp/demo.txt
[anthony@192 ~]$ ll /tmp/demo.txt
-rw-rw-r--. 1 anthony anthony 0 1月 11 21:57 /tmp/demo.txt
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>第一位&lt;/li>
&lt;li>代表文件,d代表文件夹&lt;/li>
&lt;li>接下来的三位(rw-),是用户权限&lt;/li>
&lt;li>接下来的三位(rw-),是组权限&lt;/li>
&lt;li>接下来的三位(r&amp;ndash;),是其他人权限&lt;/li>
&lt;li>. 不知道是啥东西&lt;/li>
&lt;li>第二位,连接&lt;/li>
&lt;li>第三位,属主&lt;/li>
&lt;li>第四位,属组&lt;/li>
&lt;li>第五位,大小&lt;/li>
&lt;li>第六位,7位,时间&lt;/li>
&lt;li>第八位,名字&lt;/li>
&lt;/ul>
&lt;h3 id="提升权限">提升权限&lt;/h3>
&lt;pre tabindex="0">&lt;code>[root@192 tmp]# touch fil1.txt
[root@192 tmp]# ll
-rw-r--r--. 1 root root 0 1月 12 21:56 fil1.txt
# 给所有人和用户都设置读写执行的权限
[root@192 tmp]# chmod a=rwx fil1.txt
[root@192 tmp]# ll
-rwxrwxrwx. 1 root root 0 1月 12 21:56 fil1.txt
# 给所有人和用户设置读写权限
[root@192 tmp]# chmod a=rx fil1.txt
[root@192 tmp]# ll
-r-xr-xr-x. 1 root root 0 1月 12 21:56 fil1.txt
# 给属主设置读权限
[root@192 tmp]# chmod u=r fil1.txt
[root@192 tmp]# ll
-r--r-xr-x. 1 root root 0 1月 12 21:56 fil1.txt
# 给组设置读写执行的权限
[root@192 tmp]# chmod g=rwx fil1.txt
[root@192 tmp]# ll
-r--rwxr-x. 1 root root 0 1月 12 21:56 fil1.txt
[root@192 tmp]#
# 给其他人 没有读写执行的权限
[root@192 tmp]# chmod o= fil1.txt
[root@192 tmp]# ll
-r--rwx---. 1 root root 0 1月 12 21:56 fil1.txt
# 给属主单独设置一个写的权限
[root@192 tmp]# chmod u+w fil1.txt
[root@192 tmp]# ll
总用量 0
-rw-rwx---. 1 root root 0 1月 12 21:56 fil1.txt
# 修改文件的属主和组权限
[root@192 tmp]# chown hadoop.hr fil1.txt
[root@192 tmp]# ll
总用量 0
-rw-rwx---. 1 hadoop hr 0 1月 12 21:56 fil1.txt
# 查看acl权限
[root@192 tmp]# getfacl acldemo.txt
# file: acldemo.txt
# owner: root
# group: root
user::rw-
group::r--
other::r--
# 当对一个文件或者文件夹需要设置3个以上的权限用户,和权限用户组,上面的那种方法就不够用了
# 需要引入 acl权限
# setfacl -m 对象:对象名:权限 文件名
# ll之后就会先是+号
setfacl -m g:hr:rw /tmp/acldemo.txt
[root@192 tmp]# ll
-rw-rw-r--+ 1 root root 0 1月 12 22:19 acldemo.txt
&lt;/code>&lt;/pre>&lt;h1 id="磁盘">磁盘&lt;/h1>
&lt;h2 id="管理磁盘的三个步骤">管理磁盘的三个步骤&lt;/h2>
&lt;p>先分区,再格式化,再挂载
&lt;img src="https://image.runtimes.cc/202404051425657.png" alt="">&lt;/p>
&lt;p>MBR一共只能有4个分区,如果要需要很多个分区
&lt;img src="https://image.runtimes.cc/202404051425931.png" alt="">&lt;/p>
&lt;p>&lt;img src="https://image.runtimes.cc/202404051521648.png" alt="">&lt;/p>
&lt;h2 id="新建主分区和逻辑分区">新建主分区和逻辑分区&lt;/h2>
&lt;pre tabindex="0">&lt;code>[root@192 ~]# lsblk
NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda 8:0 0 20G 0 disk
├─sda1 8:1 0 1G 0 part /boot
└─sda2 8:2 0 19G 0 part
├─centos-root 253:0 0 17G 0 lvm /
└─centos-swap 253:1 0 2G 0 lvm [SWAP]
sdb 8:16 0 5G 0 disk
sdc 8:32 0 5G 0 disk
sdd 8:48 0 5G 0 disk
sde 8:64 0 5G 0 disk
sdf 8:80 0 5G 0 disk
sdg 8:96 0 5G 0 disk
sdh 8:112 0 5G 0 disk
sdi 8:128 0 5G 0 disk
sr0 11:0 1 4.4G 0 rom
# 启动分区工具
[root@192 ~]# fdisk /dev/sdb
欢迎使用 fdisk (util-linux 2.23.2)。
更改将停留在内存中，直到您决定将更改写入磁盘。
使用写入命令前请三思。
Device does not contain a recognized partition table
使用磁盘标识符 0xda85d71c 创建新的 DOS 磁盘标签。
命令(输入 m 获取帮助)：n
Partition type:
p primary (0 primary, 0 extended, 4 free)
e extended
Select (default p): p
分区号 (1-4，默认 1)：
起始 扇区 (2048-10485759，默认为 2048)：+2G
Last 扇区, +扇区 or +size{K,M,G} (4194304-10485759，默认为 10485759)：
将使用默认值 10485759
分区 1 已设置为 Linux 类型，大小设为 3 GiB
命令(输入 m 获取帮助)：w
The partition table has been altered!
Calling ioctl() to re-read partition table.
正在同步磁盘。
# 刷新分区
[root@192 ~]# partprobe /dev/sdb
# 查看分区结果
[root@192 ~]# fdisk -l /dev/sdb
磁盘 /dev/sdb：5368 MB, 5368709120 字节，10485760 个扇区
Units = 扇区 of 1 * 512 = 512 bytes
扇区大小(逻辑/物理)：512 字节 / 512 字节
I/O 大小(最小/最佳)：512 字节 / 512 字节
磁盘标签类型：dos
磁盘标识符：0xda85d71c
设备 Boot Start End Blocks Id System
/dev/sdb1 4194304 10485759 3145728 83 Linux
# 格式化(创建文件系统)
# ext4 扩展文件系统第四代,是文件系统的类型
[root@192 ~]# mkfs.ext4 /dev/sdb1
mke2fs 1.42.9 (28-Dec-2013)
文件系统标签=
OS type: Linux
块大小=4096 (log=2)
分块大小=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
196608 inodes, 786432 blocks
39321 blocks (5.00%) reserved for the super user
第一个数据块=0
Maximum filesystem blocks=805306368
24 block groups
32768 blocks per group, 32768 fragments per group
8192 inodes per group
Superblock backups stored on blocks:
32768, 98304, 163840, 229376, 294912
Allocating group tables: 完成
正在写入inode表: 完成
Creating journal (16384 blocks): 完成
Writing superblocks and filesystem accounting information: 完成
# 手动挂载
[root@192 ~]# mkdir /mnt/disk1
[root@192 mnt]# mount -t ext4 /dev/sdb1 /mnt/disk1/
# 查看
[root@192 mnt]# df -hT
文件系统 类型 容量 已用 可用 已用% 挂载点
devtmpfs devtmpfs 1.9G 0 1.9G 0% /dev
tmpfs tmpfs 1.9G 0 1.9G 0% /dev/shm
tmpfs tmpfs 1.9G 13M 1.9G 1% /run
tmpfs tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup
/dev/mapper/centos-root xfs 17G 4.4G 13G 26% /
/dev/sda1 xfs 1014M 239M 776M 24% /boot
tmpfs tmpfs 378M 12K 378M 1% /run/user/42
tmpfs tmpfs 378M 0 378M 0% /run/user/0
# 刚挂载的
/dev/sdb1 ext4 2.9G 9.0M 2.8G 1% /mnt/disk1
&lt;/code>&lt;/pre>&lt;h2 id="新建swap">新建SWAP&lt;/h2>
&lt;pre tabindex="0">&lt;code>[root@localhost ~]# lsblk
NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda 8:0 0 20G 0 disk
├─sda1 8:1 0 1G 0 part /boot
└─sda2 8:2 0 19G 0 part
├─centos-root 253:0 0 17G 0 lvm /
└─centos-swap 253:1 0 2G 0 lvm [SWAP]
sdb 8:16 0 5G 0 disk
└─sdb1 8:17 0 3G 0 part /mnt/disk1
sdc 8:32 0 5G 0 disk
sdd 8:48 0 5G 0 disk
sde 8:64 0 5G 0 disk
sdf 8:80 0 5G 0 disk
sdg 8:96 0 5G 0 disk
sdh 8:112 0 5G 0 disk
sdi 8:128 0 5G 0 disk
sr0 11:0 1 4.4G 0 rom /run/media/anthony/CentOS 7 x86_64
[root@localhost ~]# fdisk /dev/sdb
欢迎使用 fdisk (util-linux 2.23.2)。
更改将停留在内存中，直到您决定将更改写入磁盘。
使用写入命令前请三思。
命令(输入 m 获取帮助)：n
Partition type:
p primary (2 primary, 0 extended, 2 free)
e extended
Select (default p): p
分区号 (3,4，默认 3)：
No free sectors available
命令(输入 m 获取帮助)：q
[root@localhost ~]# fdisk /dev/sdc
欢迎使用 fdisk (util-linux 2.23.2)。
更改将停留在内存中，直到您决定将更改写入磁盘。
使用写入命令前请三思。
Device does not contain a recognized partition table
使用磁盘标识符 0x661ba46a 创建新的 DOS 磁盘标签。
命令(输入 m 获取帮助)：n
Partition type:
p primary (0 primary, 0 extended, 4 free)
e extended
Select (default p): p
分区号 (1-4，默认 1)：
起始 扇区 (2048-10485759，默认为 2048)：
将使用默认值 2048
Last 扇区, +扇区 or +size{K,M,G} (2048-10485759，默认为 10485759)：
将使用默认值 10485759
分区 1 已设置为 Linux 类型，大小设为 5 GiB
命令(输入 m 获取帮助)：p
磁盘 /dev/sdc：5368 MB, 5368709120 字节，10485760 个扇区
Units = 扇区 of 1 * 512 = 512 bytes
扇区大小(逻辑/物理)：512 字节 / 512 字节
I/O 大小(最小/最佳)：512 字节 / 512 字节
磁盘标签类型：dos
磁盘标识符：0x661ba46a
设备 Boot Start End Blocks Id System
/dev/sdc1 2048 10485759 5241856 83 Linux
命令(输入 m 获取帮助)：w
The partition table has been altered!
Calling ioctl() to re-read partition table.
正在同步磁盘。
[root@localhost ~]# partprobe /dev/sdc
[root@localhost ~]# fdisk -l /dev/sdb
磁盘 /dev/sdb：5368 MB, 5368709120 字节，10485760 个扇区
Units = 扇区 of 1 * 512 = 512 bytes
扇区大小(逻辑/物理)：512 字节 / 512 字节
I/O 大小(最小/最佳)：512 字节 / 512 字节
磁盘标签类型：dos
磁盘标识符：0xda85d71c
设备 Boot Start End Blocks Id System
/dev/sdb1 4194304 10485759 3145728 83 Linux
/dev/sdb2 2048 4194303 2096128 83 Linux
Partition table entries are not in disk order
[root@localhost ~]# mkswap /dev/sdb2
/dev/sdb2: 没有那个文件或目录
[root@localhost ~]# mkswap /dev/sdc2
/dev/sdc2: 没有那个文件或目录
[root@localhost ~]# fdisk -l /dev/sdc
磁盘 /dev/sdc：5368 MB, 5368709120 字节，10485760 个扇区
Units = 扇区 of 1 * 512 = 512 bytes
扇区大小(逻辑/物理)：512 字节 / 512 字节
I/O 大小(最小/最佳)：512 字节 / 512 字节
磁盘标签类型：dos
磁盘标识符：0x661ba46a
设备 Boot Start End Blocks Id System
/dev/sdc1 2048 10485759 5241856 83 Linux
[root@localhost ~]# mkswap /dev/sdc1
anaconda-ks.cfg .bashrc .dbus/ .local/ 模板/ 下载/
.bash_history .cache/ .esd_auth .tcshrc 视频/ 音乐/
.bash_logout .config/ .ICEauthority .viminfo 图片/ 桌面/
.bash_profile .cshrc initial-setup-ks.cfg 公共/ 文档/
[root@localhost ~]# mkswap /dev/sdc1
正在设置交换空间版本 1，大小 = 5241852 KiB
无标签，UUID=074198c5-dff9-4834-9fbb-06cee839372d
[root@localhost ~]# df -hT
文件系统 类型 容量 已用 可用 已用% 挂载点
devtmpfs devtmpfs 1.9G 0 1.9G 0% /dev
tmpfs tmpfs 1.9G 0 1.9G 0% /dev/shm
tmpfs tmpfs 1.9G 13M 1.9G 1% /run
tmpfs tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup
/dev/mapper/centos-root xfs 17G 4.4G 13G 26% /
/dev/sda1 xfs 1014M 239M 776M 24% /boot
/dev/sdb1 ext4 2.9G 9.0M 2.8G 1% /mnt/disk1
tmpfs tmpfs 378M 32K 378M 1% /run/user/1000
/dev/sr0 iso9660 4.4G 4.4G 0 100% /run/media/anthony/CentOS 7 x86_64
tmpfs tmpfs 378M 0 378M 0% /run/user/0
[root@localhost ~]# lsblk
NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda 8:0 0 20G 0 disk
├─sda1 8:1 0 1G 0 part /boot
└─sda2 8:2 0 19G 0 part
├─centos-root 253:0 0 17G 0 lvm /
└─centos-swap 253:1 0 2G 0 lvm [SWAP]
sdb 8:16 0 5G 0 disk
└─sdb1 8:17 0 3G 0 part /mnt/disk1
sdc 8:32 0 5G 0 disk
└─sdc1 8:33 0 5G 0 part
sdd 8:48 0 5G 0 disk
sde 8:64 0 5G 0 disk
sdf 8:80 0 5G 0 disk
sdg 8:96 0 5G 0 disk
sdh 8:112 0 5G 0 disk
sdi 8:128 0 5G 0 disk
sr0 11:0 1 4.4G 0 rom /run/media/anthony/CentOS 7 x86_64
[root@localhost ~]# free -m
total used free shared buff/cache available
Mem: 3770 919 2208 26 642 2586
Swap: 2047 0 2047
[root@localhost ~]# swapon /dev/sdc1
[root@localhost ~]# free -m
total used free shared buff/cache available
Mem: 3770 925 2201 26 642 2579
Swap: 7166 0 7166
&lt;/code>&lt;/pre>&lt;h2 id="禁用swap">禁用swap&lt;/h2>
&lt;pre tabindex="0">&lt;code>一、不重启电脑，禁用启用swap，立刻生效
# 禁用命令
sudo swapoff -a
# 启用命令
sudo swapon -a
# 查看交换分区的状态
sudo free -m
&lt;/code>&lt;/pre>&lt;h2 id="创建lvm">创建LVM&lt;/h2>
&lt;p>无限制的扩张容量&lt;/p>
&lt;pre tabindex="0">&lt;code>[root@192 ~]# lsblk
NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda 8:0 0 20G 0 disk
├─sda1 8:1 0 1G 0 part /boot
└─sda2 8:2 0 19G 0 part
├─centos-root 253:0 0 17G 0 lvm /
└─centos-swap 253:1 0 2G 0 lvm [SWAP]
sdb 8:16 0 5G 0 disk
├─sdb1 8:17 0 3G 0 part
└─sdb2 8:18 0 2G 0 part
sdc 8:32 0 5G 0 disk
└─sdc1 8:33 0 5G 0 part
# 一会要操作的是这个盘
sdd 8:48 0 5G 0 disk
sde 8:64 0 5G 0 disk
# 一会要操作的是这个盘
sdf 8:80 0 5G 0 disk
sdg 8:96 0 5G 0 disk
sdh 8:112 0 5G 0 disk
sdi 8:128 0 5G 0 disk
# 物理磁盘转成物理卷
[root@192 ~]# pvcreate /dev/sdd
Physical volume &amp;#34;/dev/sdd&amp;#34; successfully created.
# 创建数据卷组
[root@192 ~]# vgcreate vg1 /dev/sdd
Volume group &amp;#34;vg1&amp;#34; successfully created
# 创建逻辑卷
# lvcreate
# -L 4g,要用磁盘的4G
# -n lv1 卷的名字,自定义
# vg1 卷组名,要把4G,加入到哪个卷组
[root@192 ~]# lvcreate -L 4G -n lv1 vg1
Logical volume &amp;#34;lv1&amp;#34; created.
# 格式化
# 这里要用/dev/卷组名/逻辑卷的名字
[root@192 ~]# mkfs.ext4 /dev/vg1/lv1
mke2fs 1.42.9 (28-Dec-2013)
文件系统标签=
OS type: Linux
块大小=4096 (log=2)
分块大小=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
262144 inodes, 1048576 blocks
52428 blocks (5.00%) reserved for the super user
第一个数据块=0
Maximum filesystem blocks=1073741824
32 block groups
32768 blocks per group, 32768 fragments per group
8192 inodes per group
Superblock backups stored on blocks:
32768, 98304, 163840, 229376, 294912, 819200, 884736
Allocating group tables: 完成
正在写入inode表: 完成
Creating journal (32768 blocks): 完成
Writing superblocks and filesystem accounting information: 完成
# 挂载,这里要用/dev/卷组名/逻辑卷的名字
[root@192 ~]# mkdir /mnt/lv1
[root@192 ~]# mount /dev/vg1/lv1 /mnt/lv1
[root@192 ~]# df -hT
文件系统 类型 容量 已用 可用 已用% 挂载点
devtmpfs devtmpfs 1.9G 0 1.9G 0% /dev
tmpfs tmpfs 1.9G 0 1.9G 0% /dev/shm
tmpfs tmpfs 1.9G 13M 1.9G 1% /run
tmpfs tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup
/dev/mapper/centos-root xfs 17G 4.4G 13G 26% /
/dev/sda1 xfs 1014M 239M 776M 24% /boot
tmpfs tmpfs 378M 28K 378M 1% /run/user/1000
/dev/sr0 iso9660 4.4G 4.4G 0 100% /run/media/anthony/CentOS 7 x86_64
# 这里就有4个G的可用空间
/dev/mapper/vg1-lv1 ext4 3.9G 16M 3.6G 1% /mnt/lv1
# 把sdf物理磁盘转成物理卷
[root@192 ~]# pvcreate /dev/sdf
Physical volume &amp;#34;/dev/sdf&amp;#34; successfully created.
[root@192 ~]# vgextend vg1 /dev/sdf
Volume group &amp;#34;vg1&amp;#34; successfully extended
# 扩容lv
[root@192 ~]# lvextend -L +4G /dev/vg1/lv1
Size of logical volume vg1/lv1 changed from 4.00 GiB (1024 extents) to 8.00 GiB (2048 extents).
Logical volume vg1/lv1 successfully resized.
# 刷新
[root@192 ~]# resize2fs /dev/vg1/lv1
resize2fs 1.42.9 (28-Dec-2013)
Filesystem at /dev/vg1/lv1 is mounted on /mnt/lv1; on-line resizing required
old_desc_blocks = 1, new_desc_blocks = 1
The filesystem on /dev/vg1/lv1 is now 2097152 blocks long.
# 再次查看
[root@192 ~]# df -hT
文件系统 类型 容量 已用 可用 已用% 挂载点
devtmpfs devtmpfs 1.9G 0 1.9G 0% /dev
tmpfs tmpfs 1.9G 0 1.9G 0% /dev/shm
tmpfs tmpfs 1.9G 13M 1.9G 1% /run
tmpfs tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup
/dev/mapper/centos-root xfs 17G 4.4G 13G 26% /
/dev/sda1 xfs 1014M 239M 776M 24% /boot
tmpfs tmpfs 378M 28K 378M 1% /run/user/1000
# 这里就有8个G的可用空间
/dev/mapper/vg1-lv1 ext4 7.8G 18M 7.4G 1% /mnt/lv1
[root@192 ~]# pvs
PV VG Fmt Attr PSize PFree
/dev/sda2 centos lvm2 a-- &amp;lt;19.00g 0
/dev/sdd vg1 lvm2 a-- &amp;lt;5.00g 0
/dev/sdf vg1 lvm2 a-- &amp;lt;5.00g 1.99g
[root@192 ~]# vgs
VG #PV #LV #SN Attr VSize VFree
centos 1 2 0 wz--n- &amp;lt;19.00g 0
vg1 2 1 0 wz--n- 9.99g 1.99g
&lt;/code>&lt;/pre>&lt;h1 id="yum">yum&lt;/h1>
&lt;p>yum的所有文件都在&lt;code>/etc/yum.repos.d&lt;/code>下&lt;/p>
&lt;h2 id="yum挂载光盘源">yum挂载光盘源&lt;/h2>
&lt;p>新建一个xxx.repo的文件&lt;/p>
&lt;pre tabindex="0">&lt;code>[root@192 yum.repos.d]# cat ./dvd.repo
[dvd]
name=this is descreption
baseurl=file:///mnt/cdrom
gpgcheck=0
&lt;/code>&lt;/pre>&lt;p>挂载光盘&lt;/p>
&lt;pre tabindex="0">&lt;code>[root@192 yum.repos.d]# df -hT
文件系统 类型 容量 已用 可用 已用% 挂载点
devtmpfs devtmpfs 1.9G 0 1.9G 0% /dev
tmpfs tmpfs 1.9G 0 1.9G 0% /dev/shm
tmpfs tmpfs 1.9G 13M 1.9G 1% /run
tmpfs tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup
/dev/mapper/centos-root xfs 17G 4.4G 13G 26% /
/dev/sda1 xfs 1014M 239M 776M 24% /boot
tmpfs tmpfs 378M 32K 378M 1% /run/user/1000
/dev/mapper/vg1-lv1 ext4 7.8G 18M 7.4G 1% /mnt/lv1
/dev/sr0 iso9660 4.4G 4.4G 0 100%
# 挂载
mount /dev/sr0 /mnt/cdrom
# 查看光盘你的包
ls /mnt/cdrom/Packages/
# 安装软件
yum -y instal httpd
# 安装rpm包
rpm -ivh xxx.rpm
&lt;/code>&lt;/pre></content></item></channel></rss>