<!doctype html><html lang=zh><head><title>Tron :: Hello World</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=" 波场官方trident-java文档
m1 mac Android protobuf 遇到的问题
tron中文文档
trc20离线签名的demo,有trxdent-java,就不需要这个了,使用http的方式可以看看
trc20离线签名的demo,有trxdent-java,就不需要这个了,使用http的方式可以看看,另外一个demo
要继续学习tron可以看看
打包依赖
下载源文件trident-java
这里选择main分支
进入trident-java文件夹,可以看到有build.gradle,如果是mac系统,修改一下依赖
protoc { // 原来的依赖 artifact = 'com.google.protobuf:protoc:3.12.0' // 修改之后的依赖 artifact = 'com.google.protobuf:protoc:3.12.0:osx-x86_64' } plugins { grpc { // 原来的依赖 artifact = 'io.grpc:protoc-gen-grpc-java:1.31.0' // 修改之后的依赖 artifact = 'io.grpc:protoc-gen-grpc-java:1.31.0:osx-x86_64' } } IDEA打包
打包之后,在每个子模块的build/libs/xxx-jar
下面的操作就可以跟着开发文档了,创建项目
pom.xml
<dependency> <groupId>org.tron.trident</groupId> <artifactId>abi</artifactId> <version>0.8.0</version> <scope>system</scope> <systemPath>${project.basedir}/src/main/resources/jar/abi-0.8.0.jar</systemPath> </dependency> <dependency> <groupId>org.tron.trident</groupId> <artifactId>utils</artifactId> <version>0.8.0</version> <scope>system</scope> <systemPath>${project.basedir}/src/main/resources/jar/utils-0.8.0.jar</systemPath> </dependency> <dependency> <groupId>org.tron.trident</groupId> <artifactId>core</artifactId> <version>0.8.0</version> <scope>system</scope> <systemPath>${project.basedir}/src/main/resources/jar/core-0.8.0.jar</systemPath> </dependency> <dependency> <groupId>io.grpc</groupId> <artifactId>grpc-all</artifactId> <version>1.48.1</version> </dependency> 查询余额的代码
"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=../../posts/tron/><link rel=stylesheet href=../../styles.css><link rel="shortcut icon" href=../../img/theme-colors/orange.png><link rel=apple-touch-icon href=../../img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:creator content="Anthony"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="og:title" content="Tron"><meta property="og:description" content=" 波场官方trident-java文档
m1 mac Android protobuf 遇到的问题
tron中文文档
trc20离线签名的demo,有trxdent-java,就不需要这个了,使用http的方式可以看看
trc20离线签名的demo,有trxdent-java,就不需要这个了,使用http的方式可以看看,另外一个demo
要继续学习tron可以看看
打包依赖
下载源文件trident-java
这里选择main分支
进入trident-java文件夹,可以看到有build.gradle,如果是mac系统,修改一下依赖
protoc { // 原来的依赖 artifact = 'com.google.protobuf:protoc:3.12.0' // 修改之后的依赖 artifact = 'com.google.protobuf:protoc:3.12.0:osx-x86_64' } plugins { grpc { // 原来的依赖 artifact = 'io.grpc:protoc-gen-grpc-java:1.31.0' // 修改之后的依赖 artifact = 'io.grpc:protoc-gen-grpc-java:1.31.0:osx-x86_64' } } IDEA打包
打包之后,在每个子模块的build/libs/xxx-jar
下面的操作就可以跟着开发文档了,创建项目
pom.xml
<dependency> <groupId>org.tron.trident</groupId> <artifactId>abi</artifactId> <version>0.8.0</version> <scope>system</scope> <systemPath>${project.basedir}/src/main/resources/jar/abi-0.8.0.jar</systemPath> </dependency> <dependency> <groupId>org.tron.trident</groupId> <artifactId>utils</artifactId> <version>0.8.0</version> <scope>system</scope> <systemPath>${project.basedir}/src/main/resources/jar/utils-0.8.0.jar</systemPath> </dependency> <dependency> <groupId>org.tron.trident</groupId> <artifactId>core</artifactId> <version>0.8.0</version> <scope>system</scope> <systemPath>${project.basedir}/src/main/resources/jar/core-0.8.0.jar</systemPath> </dependency> <dependency> <groupId>io.grpc</groupId> <artifactId>grpc-all</artifactId> <version>1.48.1</version> </dependency> 查询余额的代码
"><meta property="og:url" content="/posts/tron/"><meta property="og:site_name" content="Hello World"><meta property="og:image" content="https://image.runtimes.cc/202404051535708.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:section" content="区块链"><meta property="article:published_time" content="2023-12-20 20:48:19 +0000 UTC"></head><body class=orange><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=../../><div class=logo>康纳的记仇小本本</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=../../about>关于</a></li><li><a href=../../showcase>精选</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=../../about>关于</a></li><li><a href=../../showcase>精选</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=../../posts/tron/>Tron</a></h1><div class=post-meta><time class=post-date>2023-12-20</time><span class=post-author>Anthony</span></div><span class=post-tags>#<a href=../../tags/java/>Java</a>&nbsp;
#<a href=../../tags/%E5%8C%BA%E5%9D%97%E9%93%BE/>区块链</a>&nbsp;
</span><img src=https://image.runtimes.cc/202404051535708.png class=post-cover alt=" " title="Cover Image"><div class=post-content><div><blockquote><p><a href=https://cn.developers.tron.network/reference/quickstart>波场官方trident-java文档</a></p><p><a href=https://blog.csdn.net/u013903024/article/details/121263515>m1 mac Android protobuf 遇到的问题</a></p><p><a href=https://tronprotocol.github.io/documentation-zh/api/http/#walletcreateaccount>tron中文文档</a></p><p><a href=https://blog.csdn.net/sail331x/article/details/112972860>trc20离线签名的demo,有trxdent-java,就不需要这个了,使用http的方式可以看看</a></p><p><a href="https://blog.csdn.net/sail331x/article/details/114765892?spm=1001.2101.3001.6650.4&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-114765892-blog-112972860.235%5Ev39%5Epc_relevant_anti_t3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-4-114765892-blog-112972860.235%5Ev39%5Epc_relevant_anti_t3&amp;utm_relevant_index=5">trc20离线签名的demo,有trxdent-java,就不需要这个了,使用http的方式可以看看,另外一个demo</a></p><p><a href=https://liukay.com/>要继续学习tron可以看看</a></p></blockquote><p>打包依赖</p><p><a href=https://github.com/tronprotocol/trident>下载源文件trident-java</a></p><p>这里选择<code>main</code>分支</p><p><img src=https://image.runtimes.cc/202404051500865.png alt=在这里插入图片描述></p><p>进入trident-java文件夹,可以看到有build.gradle,如果是mac系统,修改一下依赖</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=display:flex><span>protoc <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>				<span style=color:#75715e>// 原来的依赖
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        artifact <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;com.google.protobuf:protoc:3.12.0&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 修改之后的依赖
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        artifact <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;com.google.protobuf:protoc:3.12.0:osx-x86_64&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    plugins <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        grpc <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span> 						<span style=color:#75715e>// 原来的依赖
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            artifact <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;io.grpc:protoc-gen-grpc-java:1.31.0&#39;</span>
</span></span><span style=display:flex><span>						<span style=color:#75715e>// 修改之后的依赖
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            artifact <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;io.grpc:protoc-gen-grpc-java:1.31.0:osx-x86_64&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span></code></pre></div><p>IDEA打包<img src=https://image.runtimes.cc/202404051500207.png alt=image-20231220205836156></p><p>打包之后,在每个子模块的<code>build/libs/xxx-jar</code></p><p><img src=https://image.runtimes.cc/202404051500763.png alt=image-20231220210042662></p><p>下面的操作就可以跟着开发文档了,创建项目</p><p>pom.xml</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;groupId&gt;</span>org.tron.trident<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;artifactId&gt;</span>abi<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;version&gt;</span>0.8.0<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;scope&gt;</span>system<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;systemPath&gt;</span>${project.basedir}/src/main/resources/jar/abi-0.8.0.jar<span style=color:#f92672>&lt;/systemPath&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;groupId&gt;</span>org.tron.trident<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;artifactId&gt;</span>utils<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;version&gt;</span>0.8.0<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;scope&gt;</span>system<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;systemPath&gt;</span>${project.basedir}/src/main/resources/jar/utils-0.8.0.jar<span style=color:#f92672>&lt;/systemPath&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;groupId&gt;</span>org.tron.trident<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;artifactId&gt;</span>core<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;version&gt;</span>0.8.0<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;scope&gt;</span>system<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;systemPath&gt;</span>${project.basedir}/src/main/resources/jar/core-0.8.0.jar<span style=color:#f92672>&lt;/systemPath&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>io.grpc<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>grpc-all<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>1.48.1<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>查询余额的代码</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String privateKey <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;私钥&#34;</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String apiKey <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;apiKey&#34;</span>;<span style=color:#75715e>//波场申请</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>@Test</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>getCount</span>() {
</span></span><span style=display:flex><span>		<span style=color:#75715e>//生成密钥对</span>
</span></span><span style=display:flex><span>		KeyPair keyPair <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> KeyPair(privateKey);
</span></span><span style=display:flex><span>		<span style=color:#75715e>//地址转换</span>
</span></span><span style=display:flex><span>		System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(keyPair.<span style=color:#a6e22e>toHexAddress</span>());
</span></span><span style=display:flex><span>		ApiWrapper wrapper <span style=color:#f92672>=</span> ApiWrapper.<span style=color:#a6e22e>ofMainnet</span>(privateKey,apiKey);
</span></span><span style=display:flex><span>		<span style=color:#75715e>//账号查询</span>
</span></span><span style=display:flex><span>		Account account <span style=color:#f92672>=</span> wrapper.<span style=color:#a6e22e>getAccount</span>(<span style=color:#e6db74>&#34;账户地址&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#75715e>//查询余额</span>
</span></span><span style=display:flex><span>		System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(account.<span style=color:#a6e22e>getBalance</span>());
</span></span><span style=display:flex><span>		System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(account.<span style=color:#a6e22e>getCreateTime</span>());
</span></span><span style=display:flex><span>	}
</span></span></code></pre></div><p>转账示例</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>transferTrc</span>(String fromAddress, String toAddress, String amount, String contractAddress, String privateKey) {
</span></span><span style=display:flex><span>    ApiWrapper wrapper <span style=color:#f92672>=</span> ApiWrapper.<span style=color:#a6e22e>ofNile</span>(privateKey);
</span></span><span style=display:flex><span>    String ret <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>//根据合约地址获取封装好的合约</span>
</span></span><span style=display:flex><span>        Contract contract <span style=color:#f92672>=</span> wrapper.<span style=color:#a6e22e>getContract</span>(contractAddress);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//创建一个TRC20合约对象</span>
</span></span><span style=display:flex><span>        Trc20Contract token <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Trc20Contract(contract, fromAddress, wrapper);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//获取想要转移的数量</span>
</span></span><span style=display:flex><span>        BigInteger sunAmountValue <span style=color:#f92672>=</span> Convert.<span style=color:#a6e22e>toSun</span>(amount, Convert.<span style=color:#a6e22e>Unit</span>.<span style=color:#a6e22e>TRX</span>).<span style=color:#a6e22e>toBigInteger</span>();
</span></span><span style=display:flex><span>        <span style=color:#75715e>//设置最大手续费</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>long</span> maxTrx <span style=color:#f92672>=</span> Convert.<span style=color:#a6e22e>toSun</span>(<span style=color:#e6db74>&#34;17&#34;</span>, Convert.<span style=color:#a6e22e>Unit</span>.<span style=color:#a6e22e>TRX</span>).<span style=color:#a6e22e>longValue</span>();
</span></span><span style=display:flex><span>        ret <span style=color:#f92672>=</span> token.<span style=color:#a6e22e>transfer</span>(toAddress, sunAmountValue.<span style=color:#a6e22e>longValue</span>(), 0, <span style=color:#e6db74>&#34;&#34;</span>, maxTrx);
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;哈希：&#34;</span> <span style=color:#f92672>+</span> ret);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (Exception e) {
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;转移失败:&#34;</span> <span style=color:#f92672>+</span> e.<span style=color:#a6e22e>getMessage</span>().<span style=color:#a6e22e>toString</span>());
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>finally</span> {
</span></span><span style=display:flex><span>        wrapper.<span style=color:#a6e22e>close</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> ret;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=../../posts/vue%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F/><span class=button__icon>←</span>
<span class=button__text>Vue后台系统</span>
</a></span><span class="button next"><a href=../../posts/netty/><span class=button__text>Netty</span>
<span class=button__icon>→</span></a></span></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2025 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/mirus-ua/hugo-theme-re-terminal target=_blank>Theme</a> made by <a href=https://github.com/mirus-ua target=_blank>Mirus</a></span></div></div></footer><script type=text/javascript src=../../bundle.min.js></script></div></body></html>